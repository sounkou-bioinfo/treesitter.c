---
output: github_document
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  out.width = "100%"
)
```

# treesitter.c

C grammar for the R treesitter package.

## Installation

```{r eval=FALSE}
# Install treesitter.c from GitHub
remotes::install_git("https://github.com/sounkou-bioinfo/treesitter.c")
```

## Usage
```{r eval=TRUE}
library(treesitter)
library(treesitter.c)

c_language <- language()
parser <- parser(c_language)

code <- "
struct Point {
  int x[MAX_SIZE];
  int y;
};
"

tree <- parser_parse(parser, code)
tree
```

## Details

**ABI Version 14**, compatible with treesitter package version 0.3.0. The C grammar source used for bootstrapping was downloaded from https://github.com/tree-sitter/tree-sitter-c. The pre-generated `parser.c` from upstream is ~3.7 MB and contains pragma directives that trigger CRAN check warnings.

During bootstrap (`bootstrap.R`), all `#pragma` directives are automatically removed from `parser.c` to ensure CRAN compliance. This includes pragmas for diagnostic control and optimization settings that are not portable across compilers.

## License

GPL-3
